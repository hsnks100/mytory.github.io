---
title: ssh 22번 포트가 아니라 다른 포트로 접속하기
author: 안형우
layout: post
permalink: /archives/9945
categories:
  - 기타
tags:
  - TIP
date_modified: 2017-04-03 21:46  
---

집에 서버를 구성하고 ssh로 접속을 하려고 하는데, 얼마 전 친구가 스팸봇이 ssh를 뚫고 들어와 컴퓨터가 맛이 갔던 이야기를 해준 게 떠올랐다. 이 서버는 나 혼자 쓸 테니 그러면 포트를 바꿔서 그런 일을 방지해야지 생각했다. 

이 조치는 *보안* 조치라고 할 수는 없다. 22번 포트로 무작정 로그인 시도를 하는 스팸봇들을 무력화할 수는 있으니, 의미 없다고 할 수는 없겠지만 말이다. 표적 공격을 당하는 경우, 열려 있는 포트는 쉽게 스캔할 수 있다. 그런 경우 이 조치는 *전혀* 보안이 될 수 없다.

## 방법

`sshd_config` 파일을 찾아서 Port 부분 주석을 해제하고 10000으로 변경한 뒤, OpenSSH를 재시작하는 것까진 성공했는데, 

    ssh myname@mydomain.com:10000  #작동하지 않는다. 

이렇게 접속 명령을 내리자 주소를 해석할 수 없다고 나온다. 뭐냐 이건. 

    ssh -p 10000 myname@mydomain.com

이렇게 써야 22번 포트가 아닌 10000번 포트로 접속을 하게 된다. 
