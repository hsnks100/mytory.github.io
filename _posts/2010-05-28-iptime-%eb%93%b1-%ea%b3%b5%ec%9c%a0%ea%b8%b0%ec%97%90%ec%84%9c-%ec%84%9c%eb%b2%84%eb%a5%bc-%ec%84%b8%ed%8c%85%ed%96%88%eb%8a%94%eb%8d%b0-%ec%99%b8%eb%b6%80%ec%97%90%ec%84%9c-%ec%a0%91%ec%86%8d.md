---
title: iptime 등 공유기에서 서버를 세팅했는데 외부에서 접속이 80포트로 안 된다면 체크해야 할 것들
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/621
aktt_notify_twitter:
  - yes
daumview_id:
  - 36912352
categories:
  - 기타
tags:
  - TIP
---
서버 세팅을 했는데 http는 접속이 안 되고 https만 접속되는 사태가 벌어졌다.

드디어 원인을 다 찾아냈다.

내 경우에는 해당하지 않지만, 체크해야 하는 것도 함께 쓰겠다.

1.  공유기에서 DMZ 설정은 했는지? 했다면 포트포워딩에서 80포트를 다른 데로 연결해 놓고 있지는 않은지? DMZ는 공유기 내의 한 컴퓨터를 지정해서, 외부에서 접속할 경우 그 컴퓨터로 연결을 시켜주되, 모든 포트를 다 열어버리고 연결시켜 주는 서비스를 말한다. iptime 공유기는 이걸 지원하고 있다. 왠만한 공유기는 다 될 것으로 생각한다.
2.  단, DMZ 설정을 해도 포트포워딩의 설정이 우선하기 때문에, 포트포워팅에서 따로 세팅된 경우라면 다른 컴퓨터로 가버릴 수도 있다. 따라서 DMZ 설정이 우선하게 하고 싶다면 포트포워딩의 설정을 다 없애야 한다.
3.  <span style="font-weight: bold;">이게 아마도 가장 유력할 것이다.</span> 인터넷 업체에서 80포트를 막아 두지는 않았는지? LG 파워콤은 80포트를 막아두고, <a href="http://www.ubuntu.or.kr/viewtopic.php?p=58344#p58344" target="_blank">약관에서 서버 설치를 금지</a>하고 있다.
4.  이걸 해결하려면 (1)일단 아파치 설정에서 8080등, 다른 포트를 열고, 웹사이트의 documentRoot 경로를 설정해 준다. (2)그리고 <a href="http://kr.dnsever.com/" target="_blank">dnsever</a>(한글,영문 서비스 다 있다. 영문 서비스로 들어갔다고 당황하지 않길 바란다. kr.dnsever.com이 한글 홈페이지다. 그리고 dnsever가 유일한 도메인 서비스 업체는 아니다. 도메인을 구입했다면 자신의 도메인을 서비스해주고 있는 업체가 있을 것이고, 그 서비스 업체에서 포트포워딩 기능을 제공하고 있다면 거기에다 요청을 해서 처리해도 된다.) 등의 서비스를 이용해서 www.내홈페이지주소.co.kr 로 연결 요청이 들어올 경우 www.내홈페이지주소.co.kr:8080 을 보여 주도록 하는 포트포워딩 설정을 한다. 외부 접속자는 자신이 무슨 포트로 접속했는지 알 수 없을 것이므로 깔끔하게 문제가 해결된다.
5.  만약 도메인 서비스를 이미 다른 데서 제공받고 있다면(아마 대부분은 그럴 것이다. dnsever는 도메인 서비스 업체들 중 하나일 뿐이다. 다만, 일일이 업체에 전화하지 않아도 되는, 사용자들의 자유도가 높은 서비스인 것 같다.) 도메인 서비스를 제공하는 업체의 서비스를 살펴보거나 전화해서 위 조치를 요청하면 된다.

이상이다. 열라 짜증나는 과정이었지만 결국 원인을 찾아서 기분이 좋다.

과정을 알기까지 도움을 주신 고수분들에게 감사의 말씀을 드리고 싶다.(<a href="http://www.ubuntu.or.kr/viewtopic.php?p=58118#p58118" target="_blank">강분도</a>, <a href="http://www.ubuntu.or.kr/viewtopic.php?p=58347#p58347" target="_blank">khrhee</a>)